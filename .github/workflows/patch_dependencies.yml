name: ⬆️ Update Patch Dependencies

on: 
  schedule:
    - 0 15 25 * *

jobs:
  Patch_Dependencies:
    runs-on: ${{ matrix.os }}
    strategy:
      matrix:
        node: [18.x]
        os: [ubuntu-latest]
      fail-fast: false
    
    steps:
      - name: ⬇️ Checkout code
        uses: actions/checkout@v4

      - name: Install pnpm
        uses: pnpm/action-setup@v4

      - name: ⚙️ Set node ${{ matrix.node }}
        uses: actions/setup-node@v4
        with:
          node-version: ${{ matrix.node }}
          cache: pnpm

      - name: 🔧 Install
        run: pnpm i --frozen-lockfile

      - name: 📦 Patch Dependencies
        run: pnpx taze patch -w

      - name: Create commits
        run: |
          git add -A
          git commit -m ":arrow_up: Patch dependencies"
          git push
      - name: Create Pull Request
        uses: peter-evans/create-pull-request@v6
        with:
          commit-message: update authors
          title: ⬆️ Patch dependencies
          body: This PR was created by github actions
          branch: update-patch-dependencies
      
